
@{
    ViewBag.Title = "Profile";
}

<script>
   
        function getProfile() {
            $.ajax({
                url: "https://localhost:44372/UserProfile/GetUserProfileDetails",
                cache: false,
                success: function (data) {
                    $("#firstNametxt").val(data.FirstName);
                    $("#middleNametxt").val(data.MiddleName);
                    $("#lastNametxt").val(data.LastName);
                    $("#phoneNotxt").val(data.PhoneNo);
                    $("#adharNotxt").val(data.AdharNo);
                    $("#emailIdtxt").val(data.EmailId);
                    $("#Idtxt1").val(data.DesignationId);
                    $("#Idtxt2").val(data.RoomsId)
                },
                error: function (errmessage) {
                    console.log(errmessage);
                }

            });
        }

             //function clear()
             //{
             //    $("#firstNametxt").val("");
             //    $("#middleNametxt").val("");
             //    $("#lastNametxt").val("");
             //    $("#phoneNotxt").val("");
             //    $("#adharNotxt").val("");
             //    $("#emailIdtxt").val("")

                
             //}

    function SaveEditDetails() {

        var jsondata = {
            "FirstName": $("#firstNametxt").val(),
            "MiddleName": $("#middleNametxt").val(),
            "LastName": $("#lastNametxt").val(),
            "PhoneNo": $("#phoneNotxt").val(),
            "AdharNo": $("#adharNotxt").val(),
            "EmailId": $("#emailIdtxt").val(),
            "DesignationId": $("#Idtxt1").val(),
            "RoomsId": $("#Idtxt2").val()

        };
        $.ajax({
            url: "https://localhost:44372/UserProfile/SaveUserProfileEditedDetails",
            cache: false,
            data: jsondata,
            success: function (data) {
                alert("Successfully Updated");
                window.location.reload();
                //clear();
                
            },
            error: function (errmessage) {
                console.log(errmessage);
            }

        });
    }

    $(document).ready(function () {
        getProfile();

    });

   




</script>


<h2>Profile</h2>
<br>
<br>
Hi @Session["Username"], Welcome to your Profile!!
<br>
<br>
<br>


<form class="row g-3">
    <div class="col-md-4">
        <label for="firstNametxt" class="form-label">First name</label>
        <input type="text" class="form-control is-valid" id="firstNametxt" value="" required>
        <input type="text" id="Idtxt" hidden>
        <div class="valid-feedback">

        </div>
    </div>
    <div class="col-md-4">
        <label for="middleNametxt" class="form-label">Middle name</label>
        <input type="text" class="form-control is-valid" id="middleNametxt" value="" required>
        <div class="valid-feedback">

        </div>
    </div>
    <div class="col-md-4">
        <label for="lastNametxt" class="form-label">Last name</label>
        <div class="input-group has-validation">

            <input type="text" class="form-control is-invalid" id="lastNametxt" value="" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" required>
            <div id="validationServerUsernameFeedback" class="invalid-feedback">

            </div>
        </div>
    </div>






    <div class="col-md-4">
        <label for="phoneNotxt" class="form-label">PhoneNo</label>
        <input type="number" class="form-control is-valid" id="phoneNotxt" value="" required>
        <div class="valid-feedback">

        </div>
    </div>
    <div class="col-md-4">
        <label for="adharNotxt" class="form-label">AdharNo</label>
        <input type="number" class="form-control is-valid" id="adharNotxt" value="" required>
        <div class="valid-feedback">

        </div>
    </div>
    <div class="col-md-4">
        <label for="emailIdtxt" class="form-label">EmailId</label>
        <div class="input-group has-validation">

            <input type="text" class="form-control is-invalid" id="emailIdtxt" value="" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" required>
            <div id="validationServerUsernameFeedback" class="invalid-feedback">

            </div>
        </div>
    </div>

    <input type="text" id="Idtxt1" hidden>
    <input type="text" id="Idtxt2" hidden>


    



    <br><br><br>
    <div class="modal-footer">
        <div class="col-12">

            <button id="userdeatilssavebtn" class="btn btn-success" onclick="SaveEditDetails()" type="submit">Save</button>
        </div>
    </div>
</form>

